{% extends "base.html" %}
{% load static %}

{% block style %}
  <!-- inherits from form.html -->
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'kiju/css/dashboard.css' %}">
{% endblock %}

{% block scripts %}
  <!-- inherits from form.html -->
  {{ block.super }}
  <script src="{% static 'kiju/js/dashboard.js' %}"></script>
{% endblock %}

{% block title %}AngebotsDB | {% endblock %}

{% block content %}
  <div class="container-xxl">
    <a href="{% url 'index' %}">
      <i class="fa-solid fa-angle-left"></i>
      Zurück zur App-Übersicht
    </a>

    <!-- Dashboard Header with Edit Layout Button -->
    <div class="dashboard-header">
      <h1 class="dashboard-title">Dashboard</h1>
      <button class="edit-layout-btn" id="edit-layout-btn" title="Layout bearbeiten">
        <i class="fa-solid fa-grip-vertical"></i>
      </button>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <a href="{% url 'kiju:map' %}" class="btn btn-primary btn-lg">
          <i class="fa-solid fa-map-marked-alt me-2"></i>
          Karte der Angebote
        </a>
      </div>
    </div>

    <!-- Grid-Container -->
    <div class="grid-container mt-4" id="grid-container">

      <!-- Card 1: Einrichtungen -->
      <div id="grid-item-1" class="grid-item">
        <div class="card bg-primary-subtle border-primary text-center h-100">
          <div class="card-body">
            <h3><i class="fa-fw fa-regular fa-building me-2"></i>Einrichtungen</h3>
            <div class="row row-cols-1 row-cols-md-1 g-2 mt-4">
              <div class="col d-grid">
                <a href="{% url 'kiju:host_list' %}" class="btn btn-primary"><i class="fa-fw fa-solid fa-table me-2"></i>Auflisten</a>
              </div>
              <div class="col d-grid">
                <a href="{% url 'kiju:host_create' %}" class="btn btn-primary"><i class="fa-fw fa-solid fa-circle-plus me-2"></i>Hinzufügen</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 2: Map -->
      <div id="grid-item-2" class="grid-item use2columns use3rows">
        <div class="card text-center h-100">
          <div class="card-body">
            <h3><i class="fa-fw fa-regular fa-map me-2"></i>Karte</h3>
            <div class="map-wrapper">
              <div id="map"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 3: Präventionsangebote -->
      <div id="grid-item-3" class="grid-item">
        <div class="card bg-primary-subtle border-primary text-center h-100">
          <div class="card-body">
            <h3><i class="fa-fw fa-solid fa-hand-holding-heart me-2"></i>Präventionsangebote</h3>
            <div class="row row-cols-1 row-cols-md-1 g-2 mt-4">
              <div class="col d-grid">
                <a href="{% url 'kiju:preventionservice_list' %}" class="btn btn-primary"><i class="fa-fw fa-solid fa-table me-2"></i>Auflisten</a>
              </div>
              <div class="col d-grid">
                <a href="{% url 'kiju:preventionservice_create' %}" class="btn btn-primary"><i class="fa-fw fa-solid fa-circle-plus me-2"></i>Hinzufügen</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 4: Freiplatzfinder -->
      <div id="grid-item-4" class="grid-item">
        <div class="card bg-primary-subtle border-primary text-center h-100">
          <div class="card-body">
            <h3><i class="fa-fw fa-solid fa-people-roof me-2"></i>Freiplatzfinder</h3>
            <div class="row row-cols-1 row-cols-md-1 g-2 mt-4">
              <div class="col d-grid">
                <button class="btn btn-primary" disabled><i class="fa-fw fa-solid fa-table me-2"></i>Auflisten</button>
              </div>
              <div class="col d-grid">
                <button class="btn btn-primary" disabled><i class="fa-fw fa-solid fa-circle-plus me-2"></i>Hinzufügen</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 5: Codelisten -->
      <div id="grid-item-5" class="grid-item">
        <div class="card bg-primary-subtle border-primary text-center h-100">
          <div class="card-body">
            <h3><i class="fa-fw fa-solid fa-list-ul me-2"></i>Zusätzliche Tabellen</h3>
            <div class="row row-cols-1 row-cols-md-2 g-2 mt-4">
              <div class="col d-grid">
                <a href="{% url 'kiju:provider_list' %}" class="btn btn-primary w-100"><i class="fa-fw fa-solid fa-handshake me-2"></i>Träger</a>
              </div>
              <div class="col d-grid">
                <a href="{% url 'kiju:topic_list' %}" class="btn btn-primary w-100"><i class="fa-fw fa-solid fa-tags me-2"></i>Kategorien</a>
              </div>
              <div class="col d-grid">
                <a href="{% url 'kiju:law_list' %}" class="btn btn-primary w-100"><i class="fa-fw fa-solid fa-scale-balanced me-2"></i>Gesetze</a>
              </div>
              <div class="col d-grid">
                <a href="{% url 'kiju:targetgroup_list' %}" class="btn btn-primary w-100"><i class="fa-fw fa-solid fa-users-viewfinder me-2"></i>Zielgruppen</a>
              </div>
            </div>
          </div>
        </div>
      </div>

    <!-- End of Grid Container -->
    </div>

  <!-- End of XXL Container -->
  </div>
{% endblock %}
