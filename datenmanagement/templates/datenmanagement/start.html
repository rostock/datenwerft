{% extends "navbar.html" %}
{% load datenmanagement_tags %}
{% load static %}

{% block title %}{{ model_verbose_name_plural }} – Möglichkeiten | {% endblock %}

{% block content %}
  {% if messages %}
    {% for message in messages %}
      {% if message.tags and message.tags == 'success' %}
        <div class="alert alert-success" role="alert">
          <i class="fa-solid fa-circle-check"></i>
          {{ message|safe }}
        </div>
      {% endif %}
    {% endfor %}
  {% endif %}
  <h2>{{ model_verbose_name_plural }}</h2>
  <h4><small>{{ model_description }}</small></h4>
  <h4 class="mt-3"><em>Was möchten Sie tun?</em></h4>
  <div class="d-grid mt-3 gap-3 mx-auto">
    {% if editable and user|user_has_model_add_permission:model_name_lower %}
      <a class="btn btn-lg btn-primary" role="button" href="{% url 'datenmanagement:'|add:model_name|add:'_add' %}"><i class="fas fa-circle-plus"></i> neuen Datensatz anlegen</a>
    {% endif %}
    {% if user|user_has_model_change_permission:model_name_lower or user|user_has_model_delete_permission:model_name_lower or user|user_has_model_view_permission:model_name_lower %}
      <a class="btn btn-lg btn-secondary" role="button" href="{% url 'datenmanagement:'|add:model_name|add:'_list' %}"><i class="fas fa-table"></i> alle Datensätze in Tabelle auflisten</a>
      {% if geometry_type %}
        <a class="btn btn-lg btn-secondary" role="button" href="{% url 'datenmanagement:'|add:model_name|add:'_map' %}"><i class="fas fa-map"></i> alle Datensätze auf Karte anzeigen</a>
      {% endif %}
    {% endif %}
    <a class="btn btn-lg btn-warning" role="button" href="{% url 'datenmanagement:index' %}"><i class="fas fa-backward"></i> zurück</a>
  </div>
  <script>
    /* global $ */
    /* eslint no-undef: "error" */

    setTimeout(function () {
      $('.alert').alert('close');
    }, 3000);
  </script>
{% endblock %}
